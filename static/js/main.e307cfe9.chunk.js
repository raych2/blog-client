(this["webpackJsonpblog-client"]=this["webpackJsonpblog-client"]||[]).push([[0],{68:function(e,n,t){},69:function(e,n,t){"use strict";t.r(n);var a,c,r,i,o,s,d,p,j,x,b,l,u,h,m,O,f,g,v,w,y,k,S,C,F,T,D,E,P,N,z,B=t(0),J=t.n(B),M=t(28),_=t.n(M),q=t(13),A=t(5),I=t(11),L=t.n(I),G=t(14),H=t(10),K=t(2),Q=t(3),R=t(22),U=t(21),V=t(1),W=Q.a.div(a||(a=Object(K.a)(["\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: center;\n"]))),X=Q.a.div(c||(c=Object(K.a)(["\n  height: auto;\n  width: 50vw;\n  margin: 10px 0;\n  padding: 20px;\n  background: #ffffff;\n  border: 0.5px solid #7a7a7a;\n  border-radius: 5px;\n  @media only screen and (min-device-width: 768px) and (max-device-width: 1024px) {\n    width: 80vw;\n  }\n  @media only screen and (min-device-width: 320px) and (max-device-width: 480px) {\n    width: 95%;\n  }\n"]))),Y=Q.a.div(r||(r=Object(K.a)(["\n  max-width: 100%;\n  text-align: left;\n"]))),Z=Object(Q.a)(q.b)(i||(i=Object(K.a)(["\n  &:focus,\n  &:hover,\n  &:visited,\n  &:link,\n  &:active {\n    text-decoration: none;\n  }\n  color: #000;\n"]))),$=Q.a.h2(o||(o=Object(K.a)(["\n  margin: 5px auto;\n"]))),ee=Q.a.p(s||(s=Object(K.a)(["\n  margin: 5px auto;\n"]))),ne=Q.a.div(d||(d=Object(K.a)(["\n  margin: 10px auto;\n"]))),te=Q.a.hr(p||(p=Object(K.a)(["\n  margin: 10px auto;\n  border: none;\n  border-top: 1px solid #000;\n"]))),ae=Q.a.div(j||(j=Object(K.a)(["\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: space-between;\n  max-width: 100%;\n  margin: 0 auto;\n  @media only screen and (min-device-width: 320px) and (max-device-width: 480px) {\n    flex-direction: column;\n  }\n"]))),ce=function(e){var n=e.post._id,t=e.post.title,a=e.post.author.username,c=e.post.published,r=e.post.postDate,i=e.post.comments,o=e.post.text.substring(0,75)+"...",s=function(e){return(new DOMParser).parseFromString(e,"text/html").body.innerText};return c?Object(V.jsx)(W,{children:Object(V.jsxs)(X,{children:[Object(V.jsxs)(Y,{children:[Object(V.jsx)(Z,{to:"/posts/".concat(n),children:Object(V.jsx)($,{children:s(t)})}),Object(V.jsxs)(ee,{children:["By: ",a]}),Object(V.jsx)(ne,{children:s(o)})]}),Object(V.jsx)(te,{}),Object(V.jsxs)(ae,{children:[Object(V.jsx)("p",{children:r}),0===i.length?Object(V.jsxs)("p",{children:[Object(V.jsx)(U.a,{icon:R.a})," Add a comment"]}):1===i.length?Object(V.jsxs)("p",{children:[Object(V.jsx)(U.a,{icon:R.a})," ",i.length," Comment"]}):Object(V.jsxs)("p",{children:[Object(V.jsx)(U.a,{icon:R.a})," ",i.length," Comments"]})]})]})}):null},re=t(33),ie=t.n(re),oe=Q.a.div(x||(x=Object(K.a)(["\n  margin-top: 200px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-content: center;\n  align-items: center;\n"]))),se=function(){return Object(V.jsx)(oe,{children:Object(V.jsx)(ie.a,{name:"ball-spin-fade-loader",color:"#FCA311"})})},de=Q.a.div(b||(b=Object(K.a)(["\n  margin-top: 50px;\n  text-align: center;\n  color: #a9232e;\n"]))),pe=Q.a.div(l||(l=Object(K.a)(["\n  margin-top: 50px;\n  display: flex;\n  flex-flow: column nowrap;\n  align-content: space-evenly;\n"]))),je=function(){var e=Object(B.useState)([]),n=Object(H.a)(e,2),t=n[0],a=n[1],c=Object(B.useState)(!1),r=Object(H.a)(c,2),i=r[0],o=r[1],s=Object(B.useState)(""),d=Object(H.a)(s,2),p=d[0],j=d[1],x="https://rt-blog-api.herokuapp.com/posts";return Object(B.useEffect)((function(){function e(){return(e=Object(G.a)(L.a.mark((function e(){var n,t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,fetch(x);case 4:if(404!==(n=e.sent).status){e.next=9;break}j(n.statusText),e.next=14;break;case 9:return j(""),e.next=12,n.json();case 12:t=e.sent,a(t.posts);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0);case 19:o(!1);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(V.jsx)("div",{children:p?Object(V.jsxs)(de,{children:["Error: ",p]}):Object(V.jsx)(V.Fragment,{children:i?Object(V.jsx)(se,{}):Object(V.jsx)(pe,{children:t.map((function(e,n){return Object(V.jsx)("div",{children:Object(V.jsx)(ce,{post:t[n]})},e._id)}))})})})},xe=Q.a.nav(u||(u=Object(K.a)(["\n  height: 10vh;\n  display: flex;\n  align-items: center;\n  background-color: #14213d;\n"]))),be=Object(Q.a)(q.b)(h||(h=Object(K.a)(["\n  &:focus,\n  &:hover,\n  &:visited,\n  &:link,\n  &:active {\n    text-decoration: none;\n  }\n  color: #ffffff;\n"]))),le=Q.a.div(m||(m=Object(K.a)(["\n  margin: 1rem;\n  font-size: 2em;\n  font-weight: 400;\n  color: #ffffff;\n"]))),ue=function(){return Object(V.jsx)(xe,{children:Object(V.jsx)(be,{to:"/",children:Object(V.jsx)(le,{children:"TOP Blog"})})})},he=t(34),me=Q.a.div(O||(O=Object(K.a)(["\n  height: auto;\n  width: 100%;\n  margin: 10px 0;\n  padding: 10px;\n  background: #ffffff;\n  border-radius: 5px;\n  border: 0.5px solid #e5e5e5;\n"]))),Oe=Q.a.p(f||(f=Object(K.a)(["\n  margin-bottom: 20px;\n  color: #7a7a7a;\n"]))),fe=function(e){var n=e.comment.author,t=e.comment.commentDate,a=function(e){return(new DOMParser).parseFromString(e,"text/html").body.innerText}(e.comment.text);return Object(V.jsxs)(me,{children:[Object(V.jsxs)(Oe,{children:[n," \u2022 ",t]}),Object(V.jsx)("p",{children:a})]})},ge=Q.a.div(g||(g=Object(K.a)(["\n  margin: 50px auto 0 auto;\n  height: auto;\n  width: 50vw;\n  background: #ffffff;\n  border: 0.5px solid #7a7a7a;\n  border-radius: 5px;\n  @media only screen and (min-device-width: 768px) and (max-device-width: 1024px) {\n    width: 90%;\n  }\n  @media only screen and (min-device-width: 320px) and (max-device-width: 480px) {\n    width: 95%;\n  }\n"]))),ve=Q.a.div(v||(v=Object(K.a)(["\n  padding: 20px;\n"]))),we=Q.a.div(w||(w=Object(K.a)(["\n  padding: 20px;\n  input {\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n  }\n"]))),ye=Q.a.form(y||(y=Object(K.a)(["\n  display: flex;\n  flex-flow: column wrap;\n  margin: 10px auto 0 auto;\n  padding: 20px;\n  @media only screen and (min-device-width: 320px) and (max-device-width: 480px) {\n    padding: 0;\n  }\n"]))),ke=Q.a.input(k||(k=Object(K.a)(["\n  display: block;\n  width: 100%;\n  height: 40px;\n  margin: 10px auto;\n  font-size: 1em;\n  padding-left: 5px;\n  border: 0.5px solid #e5e5e5;\n  border-radius: 5px;\n"]))),Se=Q.a.textarea(S||(S=Object(K.a)(["\n  display: block;\n  width: 100%;\n  margin: 10px auto;\n  font-size: 1em;\n  padding: 10px 0 0 5px;\n  border: 0.5px solid #e5e5e5;\n  border-radius: 5px;\n"]))),Ce=Q.a.input(C||(C=Object(K.a)(["\n  margin: 5px auto;\n  width: 25%;\n  padding: 10px;\n  text-align: center;\n  color: #e8eddf;\n  background-color: #242423;\n  border-color: #242423;\n  border-radius: 3px;\n  font: 100 1rem 'Noto Sans JP', sans-serif;\n"]))),Fe=Q.a.div(F||(F=Object(K.a)(["\n  padding: 20px;\n  @media only screen and (min-device-width: 320px) and (max-device-width: 480px) {\n    padding: 0;\n  }\n"]))),Te=Q.a.h1(T||(T=Object(K.a)(["\n  margin: 5px auto;\n"]))),De=Q.a.h2(D||(D=Object(K.a)(["\n  margin: 5px auto;\n"]))),Ee=Q.a.p(E||(E=Object(K.a)(["\n  margin: 5px auto 20px auto;\n  color: #7a7a7a;\n"]))),Pe=Q.a.p(P||(P=Object(K.a)(["\n  margin: 10px auto;\n"]))),Ne=Q.a.h2(N||(N=Object(K.a)(["\n  margin: 5px auto;\n"]))),ze=Q.a.div(z||(z=Object(K.a)(["\n  padding: 0 20px;\n  color: #a9232e;\n  @media only screen and (min-device-width: 320px) and (max-device-width: 480px) {\n    padding: 0;\n  }\n"]))),Be=function(e){var n=e.match,t=Object(B.useState)([]),a=Object(H.a)(t,2),c=a[0],r=a[1],i=Object(B.useState)(""),o=Object(H.a)(i,2),s=o[0],d=o[1],p=Object(B.useState)([]),j=Object(H.a)(p,2),x=j[0],b=j[1],l=Object(B.useState)(!1),u=Object(H.a)(l,2),h=u[0],m=u[1],O=Object(B.useState)(""),f=Object(H.a)(O,2),g=f[0],v=f[1],w=Object(B.useState)(""),y=Object(H.a)(w,2),k=y[0],S=y[1],C=Object(B.useState)(""),F=Object(H.a)(C,2),T=F[0],D=F[1],E=Object(B.useState)(""),P=Object(H.a)(E,2),N=P[0],z=P[1],J=function(e){return(new DOMParser).parseFromString(e,"text/html").body.innerText};Object(B.useEffect)((function(){function e(){return(e=Object(G.a)(L.a.mark((function e(){var t,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,fetch("https://rt-blog-api.herokuapp.com/posts/".concat(n.params.id));case 4:if(404!==(t=e.sent).status){e.next=9;break}v(t.statusText),e.next=16;break;case 9:return v(""),e.next=12,t.json();case 12:a=e.sent,r(a.post),d(a.post.author.username),b(a.post.comments);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(1),console.log(e.t0);case 21:m(!1);case 22:case"end":return e.stop()}}),e,null,[[1,18]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n.params.id]);var M=function(){var e=Object(G.a)(L.a.mark((function e(t){var a,c,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch("https://rt-blog-api.herokuapp.com/posts/".concat(n.params.id,"/comments"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({author:T,text:N})});case 4:return a=e.sent,e.next=7,a.json();case 7:(c=e.sent).errors?(r=[],c.errors.forEach((function(e){r.push("".concat(e.msg," "))})),S(r)):(S(""),b([].concat(Object(he.a)(x),[c.comment]))),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:D(""),z("");case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}();return Object(V.jsx)("div",{children:g?Object(V.jsxs)(de,{children:["Error: ",g]}):Object(V.jsx)(V.Fragment,{children:h?Object(V.jsx)(se,{}):Object(V.jsxs)(ge,{children:[Object(V.jsxs)(ve,{children:[Object(V.jsx)(Te,{children:J(c.title)}),Object(V.jsx)(De,{children:s}),Object(V.jsxs)(Ee,{children:["Posted on ",c.postDate]}),Object(V.jsx)(Pe,{children:J(c.text)})]}),Object(V.jsxs)(we,{children:[Object(V.jsx)(Ne,{children:"Comments:"}),Object(V.jsxs)(ye,{onSubmit:M,children:[Object(V.jsx)("label",{htmlFor:"guestName",children:"Name:"}),Object(V.jsx)(ke,{value:T,type:"text",id:"guestName",onChange:function(e){return D(e.target.value)},placeholder:"Name",required:!0}),Object(V.jsx)("label",{htmlFor:"guestComment",children:"Comment:"}),Object(V.jsx)(Se,{value:N,id:"guestComment",rows:"3",cols:"33",maxLength:"500",onChange:function(e){return z(e.target.value)},placeholder:"Share your thoughts on this blog post",required:!0}),Object(V.jsx)(Ce,{type:"submit",value:"Submit"})]}),k?Object(V.jsxs)(ze,{children:["Error: ",k]}):Object(V.jsx)(V.Fragment,{}),Object(V.jsx)(Fe,{children:x&&x.length>0?x.map((function(e){return Object(V.jsx)("div",{children:Object(V.jsx)(fe,{comment:e})},e._id)})):Object(V.jsx)("p",{children:"There are no comments. Be the first to add a comment."})})]})]})})})},Je=function(){return Object(V.jsxs)(q.a,{basename:"/",children:[Object(V.jsx)(ue,{}),Object(V.jsxs)(A.d,{children:[Object(V.jsx)(A.b,{exact:!0,path:"/",component:je}),Object(V.jsx)(A.b,{path:"/posts/:id",component:Be}),Object(V.jsx)(A.a,{exact:!0,from:"/posts",to:"/"})]})]})};t(68);_.a.render(Object(V.jsx)(J.a.StrictMode,{children:Object(V.jsx)(Je,{})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.e307cfe9.chunk.js.map